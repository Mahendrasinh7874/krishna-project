<!--
Author: W3layouts
Author URL: http://w3layouts.com
-->
<!doctype html>
<html lang="en">
{% load static %}
{% load mathop %}
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Hans Flour Factory</title>
    <!-- google fonts -->
    <link href=" {% static '//fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap' %} " rel="stylesheet">
    <link href=" {% static '//fonts.googleapis.com/css2?family=Lato&display=swap' %} " rel="stylesheet">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Template CSS -->
    <link rel="stylesheet" href=" {% static 'css/style-starter.css' %} ">
    <style>
        /* Add this to your CSS file or within a <style> tag in your HTML */
    .news-image {
    width: 100%;
    height: auto;
    border-radius: 10px; /* Adds rounded corners */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Adds a subtle shadow */
    object-fit: cover; /* Ensures the image covers the container without distortion */
}
.display{
color:Black;
background:none;
border:none;
}

h3 input{
display:inline;
}
.tprice{
display:none;
}
        .fa-shopping-cart {
    font-size: 24px;  /* Adjust the size */
    color: #dbd5d5;      /* Change the color */
    cursor: pointer;  /* Make it clickable */
}

.cart-icon-container {
    position: relative;
    display: inline-block;
}

.cart-icon-badge {
    position: absolute;
    top: -10px;
    right: -10px;
    background-color: red;
    color: white;
    border-radius: 50%;
    padding: 2px 6px;
    font-size: 12px;
}
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body onload="starter()">
    <!--/Header-->
    <header id="site-header" class="fixed-top">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light stroke py-lg-0">
                <h1><a class="navbar-brand pe-xl-5 pe-lg-4" href=" {% url 'index' %} ">
                        <i class="fas fa-spa"></i>Hans Flour Factory
                    </a></h1>
                <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon fa icon-expand fa-bars"></span>
                    <span class="navbar-toggler-icon fa icon-close fa-times"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarScroll">
                    <ul class="navbar-nav me-lg-auto my-2 my-lg-0 navbar-nav-scroll">
                       <li class="nav-item">
                            <a class="nav-link" aria-current="page" href=" {% url 'index' %} ">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href=" {% url 'about' %} ">About</a>
                        </li>
                          <li class="nav-item">
                            <a class="nav-link active" href=" {% url 'Product' %} ">Product</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href=" {% url 'contact' %} ">Contact</a>
                        </li>
                         {% if request.session.log_id %}
                        <li class="nav-item">
                            <a href="{% url 'show-cart' %} "><i class="fa fa-shopping-cart" ></i></a>
                        </li>
                    </ul>
                    <ul class="navbar-nav me-lg-auto my-2 my-lg-0 navbar-nav-scroll">
                            {% if messages %}
                        {% for message in messages %}
                         {{ message }}
                         {% endfor %}
                         {% endif %}
                        <li class="nav-item">
                            <a class="nav-link right" href="/logout">logout</a>
                        </li>

                    </ul>
                    {% else %}
                    <ul class="navbar-nav me-lg-auto my-2 my-lg-0 navbar-nav-scroll">
                        <li class="nav-item">
                            <a class="nav-link right" href=" {% url 'login' %}">Login</a>
                        </li>
                    </ul>
                     {% endif %}

                    <!--/search-right-->
                    <!--<ul class="header-search me-lg-4">
                        <li class="nav-item search-right">
                            <a href=" {% static '#search' %} " class="btn search-btn btn-primary" title="search">Search <span class="fas fa-search ms-3" aria-hidden="true"></span></a>
                           search popup
                            <div id="search" class="pop-overlay">
                                <div class="popup">
                                    <h3 class="title-w3l two mb-4 text-left">Search Here</h3>
                                    <form action="#" method="GET" class="search-box d-flex position-relative">
                                        {% csrf_token %}
                                        <input type="search" placeholder="Enter Keyword here" name="search" required="required" autofocus="">
                                        <button type="submit" class="btn"><span class="fas fa-search" aria-hidden="true"></span></button>
                                    </form>
                                </div>
                                <a class="close" href=" {% static '#close' %} ">Ã—</a>
                            </div>
                             /search popup
                        </li>
                    </ul>-->
                    <!--//search-right-->
                </div>
                <!-- toggle switch for light and dark theme -->
                <div class="mobile-position">
                    <nav class="navigation">
                        <div class="theme-switch-wrapper">
                            <label class="theme-switch" for="checkbox">
                                <input type="checkbox" id="checkbox">
                                <div class="mode-container">
                                    <i class="gg-sun"></i>
                                    <i class="gg-moon"></i>
                                </div>
                            </label>
                        </div>
                    </nav>
                </div>
                <!-- //toggle switch for light and dark theme -->
            </nav>
        </div>
    </header>
    <!--//Header-->
    <!--/main-slider -->

    <!--//bottom-3-grids-->

    <!--/home-page-video-popup-->
 <section class="w3l-video-sec py-5" id="">
    <div class="container py-md-5">
        <div class="row">

            <div class="col-lg-7 w3l-index5 py-3">
                <div id="imageCarousel" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        {% for i in images %}
                        <div class="carousel-item {% if forloop.first %}active{% endif %}">
                            <img src="/media/{{i.p_image}}" alt="" class="d-block w-100">
                        </div>
                        {% endfor %}
                        <!-- Add more carousel-item divs as needed -->
                    </div>
                    <a class="carousel-control-prev" href="#imageCarousel" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#imageCarousel" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>

            <div class="col-lg-5 w3l-video-info-right ps-lg-5 mt-lg-0 mt-5">
                <div class="title-content-two">
                    <h3 class="title-w3l">{{item.name}}</h3>
                    <p class="mt-2">{{item.Description}}</p>
                    <div>
                    <h4><b>Weight : </b>{{item.Product_weight}} Kg </h4>
                    <h3><b>Price Per kg :</b>{{item.price}} Rs.</h3>

                        <div class="input-group mb-1">

                           <b> <input type="tel" id="quantity" value="1" min="1" max="30" name="t_quantity" class="form-control" onchange="TotalPrice()" disabled></b>
                            <div class="input-group-append">
                                <button class="btn btn-secondary" onclick="decrementQuantity()">-</button>
                                <button class="btn btn-secondary" onclick="incrementQuantity()">+</button>
                            </div>
                        </div>
                        <h3><b>Total Price :</b> <input type="number" id="tprice" class="tprice"  value="{{item.Product_weight|multiply:item.price}}"/> <input type="tel" class="display" id="display" name="total_price" disabled/></h3>
                    </div>
                        <input type="number" value="{{item.id}}" id="pro_id" hidden/>
                    {% if request.session.log_id %}
                    <input type="button" class="btn btn-style btn-primary mt-lg-5 mt-4" onclick="submit()" value="Add To Cart"/>
                    {% else %}
                    <a href="{% url 'login' %}" class="btn btn-style btn-primary mt-lg-5 mt-4">Please Login Now</a>
                     {% endif %}
                   <!-- <input type="button" class="btn btn-style btn-primary mt-lg-5 mt-4" value="Please Login Now"/> -->
                </div>
            </div>

        </div>
    </div>
</section>

    <!-- //home-page-video-popup-->
    <!--/Gallery-Section-->

    <!-- //testimonials -->

    <!--/home-page-mid-->

    <!--//home-page-mid-->
    <!--/w3l-subscribe-->

    <!--//instagram-grid-wrap-->
    <!--/w3l-footer-29-main-->
    <footer class="w3l-footer-29-main">
        <div class="footer-29 py-5">
            <div class="container">
                <div class="row footer-top-29">
                    <div class="col-lg-3 col-md-6 footer-list-29 footer-1 pe-lg-5">
                        <div class="bottom-copies">

                            <h2><a class="navbar-brand" href=" {% url 'index' %} ">
                                    <i class="fas fa-spa"></i>Hans Flour Factory
                                </a></h2>
                        </div>
                    </div>

                    <div class="col-lg-5 col-md-6 footer-list-29 footer-3 mt-lg-0 mt-3">

                        <p class="copy-footer-29 text-center"></p>
                    </div>
                    <div class="col-lg-4 col-md-6 footer-list-29 mt-lg-0 mt-4">
                        <div class="main-social-footer-29">
                            <a href=" {% static '#facebook' %} " class="facebook"><span class="fab fa-facebook-f"></span></a>
                            <a href=" {% static '#twitter' %} " class="twitter"><span class="fab fa-twitter"></span></a>
                            <a href=" {% static '#instagram' %} " class="instagram"><span class="fab fa-instagram"></span></a>
                            <a href=" {% static '#linkd' %} " class="linkd"><span class="fab fa-linkedin-in"></span></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- move top -->
        <button onclick="topFunction()" id="movetop" title="Go to top">
            <span class="fa fa-angle-up"></span>
        </button>
        <script type="text/javascript">
            // When the user scrolls down 20px from the top of the document, show the button
            function starter(){
            let pr = document.getElementById('tprice').value;
            console.log(pr)
            document.getElementById("display").value = pr;
            }
            window.onscroll = function() {
                scrollFunction()
            };

            function submit(){
                let proid = document.getElementById('pro_id').value;
                let quan = document.getElementById('quantity').value;
                let tprice = document.getElementById('display').value;
                showAlert();
                setTimeout(function() {
                // Construct the URL with query parameters
                let url = 'http://127.0.0.1:8000/add-cart/?proid=' + proid + '&quan=' + quan + '&tprice=' + tprice;
                // Redirect to the constructed URL
                window.location = url;
            }, 2000);
            }


            function scrollFunction() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById("movetop").style.display = "block";
                } else {
                    document.getElementById("movetop").style.display = "none";
                }
            }

            // When the user clicks on the button, scroll to the top of the document
            function topFunction() {
                document.body.scrollTop = 0;
                document.documentElement.scrollTop = 0;
            }
            $(document).ready(function(){
            $('.slides').slick({
                infinite: true,
                slidesToShow: 1,
                slidesToScroll: 1,
                dots: true,
                arrows: true,
                autoplay: true,
                autoplaySpeed: 2000,
            });
        });
        function incrementQuantity() {
        var quantity = document.getElementById('quantity').value;
        var newQuantity = parseInt(quantity) + 1;
        document.getElementById('quantity').value = newQuantity;
        TotalPrice();
    }

    function decrementQuantity() {
        var quantity = document.getElementById('quantity').value;
        if (quantity > 1) {
            var newQuantity = parseInt(quantity) - 1;
            document.getElementById('quantity').value = newQuantity;
        }
        TotalPrice();
    }
    function showAlert() {
            Swal.fire({
                title: 'Success!',
                text: 'Item Added to Cart',
                icon: 'success',
                confirmButtonText: 'Okey'
            });
        }
    function TotalPrice() {
       let quan=document.getElementById('quantity').value;
       let pr = document.getElementById('tprice').value;
       let textdisplay = document.getElementById('display');
       total = quan*pr;
       textdisplay.value = total;
    }

        </script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

        <!-- //move top -->
    </footer>
    <!-- Template JavaScript -->
    <script src=" {% static 'js/jquery-3.3.1.min.js' %} "></script>
    <script src=" {% static 'js/theme-change.js' %} "></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>

    <!-- MENU-JS -->
    <script>
        $(window).on("scroll", function() {
            var scroll = $(window).scrollTop();

            if (scroll >= 80) {
                $("#site-header").addClass("nav-fixed");
            } else {
                $("#site-header").removeClass("nav-fixed");
            }
        });

        //Main navigation Active Class Add Remove
        $(".navbar-toggler").on("click", function() {
            $("header").toggleClass("active");
        });

        $(document).ready(function(){
        $('.slider').slick({
        infinite: true,
        slidesToShow: 1,
        slidesToScroll: 1,
        dots: true,
        arrows: true
      });
    });

    </script>
    <!-- //MENU-JS -->

    <!-- disable body scroll which navbar is in active -->
    <script>
        $(function() {
            $('.navbar-toggler').click(function() {
                $('body').toggleClass('noscroll');
            })
        });

    </script>
    <!-- //disable body scroll which navbar is in active -->

    <!-- //bootstrap -->
    <script src=" {% static 'js/bootstrap.min.js' %} "></script>

</body>

</html>
